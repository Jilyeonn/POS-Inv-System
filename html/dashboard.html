<html>
    <head>
        <title> POS & Inventory System</title>
        <link rel="stylesheet" type="text/css" href="../css/dashboard.css">
        <link rel="stylesheet" type="text/css" href="../css/invchart.css">
        <link rel="stylesheet" type="text/css" href="../css/navbar.css">
        <link rel="stylesheet" type="text/css" href="../css/saleschart.css">
        <link rel="icon" type="img/png" href="../img/logo.png" src="../img/logo.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    </head>

    <body>
        <!--Start of Navigation Bar-->
  <aside class="sidebar">
    <div>
      <div class="brand">
        <button id="collapseBtn" class="collapse-btn">
    <img src="../img/logo.png" alt="logo">
  </button>
        
        <h1>VHT Naturals</h1>
      </div>
      <nav>
        <div id="nav-links">
        <a href="#" class="dropdown-btn" ><i data-lucide="layout-dashboard"></i><span>Dashboard</span></a>
        <div class="dropdown">
          <a href="dashboard.html#sales"onclick="showPage('sales')"> <img src="../img/philippine-peso (1).png" class="peso-icon"><span>Sales</span></a>
            <a href="dashboard.html#inventory" onclick="showPage('inventory')"><i data-lucide="boxes"></i><span>Inventory</span></a>
        </div>
        </div>
        <a href="pos.html"><i data-lucide="package"></i> <span>Point of Sales</span></a>
        <a href="inventory.html"><i data-lucide="shopping-cart"></i> <span>Inventory</span></a>
        <a href="receipthistory.html"><i data-lucide="bar-chart-2"></i> <span>Transaction History</span> </a>
      </nav>
    </div>
    <div class="logout">
      <a href="../index.html"><i data-lucide="log-out"></i> <span>Logout</span></a>
    </div>
  </aside>
        <!-- End of Navigation Bar -->
        <!-- Body of Dashboard (Charts and Graphs of Sales & Inventory)-->

        <div class="container-1">
        <!-- Sales Dashboard -->
        <div id="sales" class="page active">
        <section class="cards">
         <div class="card">
        <h3>Total Sales (Today)</h3>
        <div class="value" id="totalToday">₱0.00</div>
      </div>
      <div class="card">
        <h3>Total Sales (This Month)</h3>
        <div class="value" id="totalMonth">₱0.00</div>
      </div>
      <div class="card">
        <h3>Orders (Today)</h3>
        <div class="value" id="ordersToday">0</div>
      </div>
      <div class="card">
        <h3>Average Sales (Today) </h3>
        <div class="value" id="avgTicket">₱0.00</div>
      </div>
    </section>

    <!-- Charts -->
    <section class="charts-grid">
    <div class="chart-card">
    <div class="chart-header">
    <h4>Sales (by period)</h4>
    <select id="salesPeriodSelect">
      <option value="weekly">Weekly</option>
      <option value="monthly" selected>Monthly</option>
      <option value="quarterly">Quarterly</option>
    </select>
  </div>
        <canvas id="lineSales"></canvas>
      </div>


      <div class="chart-card" class="chart-card full-width">
      <h4> Top Products (by revenue)</h4>
        <canvas id="barProducts"></canvas>
      </div>
      
    <div class="chart-card">
        <h4>Sales by Category </h4>
        <canvas id="pieCategories"></canvas>
      </div>
      <!-- Transaction History Preview Table -->
  <div class="chart-card">
    <h4>Recent Transactions</h4>
    <table id="transactionHistory">
      <thead>
        <tr>
          <th>Order No. </th>
          <th>Date </th>
          <th>Item</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <!-- Filled dynamically -->
      </tbody>
    </table>
  </div>
        </div>
    </section>
      

        <!-- Inventory Dashboard -->
  <div id="inventory" class="page">
    <section class="cards">
    <div class="card">
      <h3>Total Items</h3>
      <p id="totalItems">0</p>
    </div>

    <div class="card">
      <h3>Total Quantity</h3>
      <p id="totalQty">0</p>
    </div>

    <div class="card">
      <h3>Total Value</h3>
      <p id="totalValue">₱0</p>
    </div>

    <div class="card">
      <h3>Low Stock Items</h3>
      <p id="lowStock">0</p>
    </div>
    </section>


    <div class="charts-container">
        <div class="chart-card1">
            <h3>Supplies Quantity</h3>
            <canvas id="pieChart1"></canvas>
        </div>
        
        <div class="chart-card1">
            <h3>Inventory Category Distribution</h3>
            <canvas id="pieChart2"></canvas>
        </div>
        
        <div class="chart-card1">
            <h3>Added Supplies This Month</h3>
            <canvas id="lineChart"></canvas>
        </div>

    </div>
  </div>
    
        </div>
        
        <!--SCRIPT NA ITO -->
  <script type="module" src="../js/invchart.js"></script>
        <script type="module" src="../js/saleschart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    lucide.createIcons();
const collapseBtn = document.getElementById("collapseBtn");
  const sidebar = document.querySelector(".sidebar");
  const main = document.querySelector(".main");

document.getElementById("collapseBtn").addEventListener("click", () => {
  document.body.classList.toggle("collapsed");
});

  collapseBtn.addEventListener("click", () => {
    sidebar.classList.toggle("collapsed");
    main.classList.toggle("collapsed");
  });
    // Toggle Dashboard dropdown
  document.querySelector(".dropdown-btn").addEventListener("click", () => {
  document.querySelector(".dropdown").classList.toggle("active");
});


  dropdownBtn.addEventListener("click", (e) => {
    e.preventDefault();
    dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    dropdownMenu.classList.toggle("show");
  });

  function showPage(pageId) {
    const pages = document.querySelectorAll('.page');
    pages.forEach(page => page.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    
    navLinks.classList.remove("active");
  }

  
 window.addEventListener("load", () => {
  const hash = window.location.hash.substring(1);

  if (hash === "sales") {
    showPage("sales");
  } else if (hash === "inventory") {
    showPage("inventory");
  } else {
    // default fallback
    showPage("sales");
  }
});
    
  </script>
    </body>
</html>